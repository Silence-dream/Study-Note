---
tags : 
- 
---
## 钱包地址生成和作用


### 钱包和钱包地址

在 Web3 生态中，钱包扮演着一个至关重要的角色，因为钱包中保存着可以让你控制资产的关键信息：私钥。与真实世界的钱包不同，Web3 钱包并不直接存储加密货币（加密货币都存储在区块链中），只用来管理和交易加密货币。

钱包地址可以当做你在区块链上的账号，它是一个公开的字符串，主要用于接收和发送加密货币。就像你的银行卡账号一样，人们需要知道你的钱包地址才能向你转账。同样，当你想要给别人转账时，你也需要知道对方的钱包地址。比如，这是一个标准的以太坊钱包地址：`0x21Cca8b57dc09F1C39a64FA34Bd390c10f088c78`


### 钱包地址的生成过程

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081535946.png)


下面介绍一下钱包地址生成过程中，涉及的几个关键步骤：

●第一步：生成种子。种子是一个随机生成的数字序列，是后续的起点。种子可以由系统生成的随机数或用户提供的熵（比如随机移动鼠标产生的数据）来产生。

●第二步：生成助记词。助记词是将种子转换成的一系列方便记忆的单词。在以太坊中，有一个固定的2048个单词的单词库，首先将种子分割成多个二进制数据片段，每一个片段对应单词库中的一个单词，最终形成一串单词序列，即助记词。

●第三步：生成私钥。私钥是控制钱包地址的密钥。使用上一步的种子，通过 HMAC-SHA512 算法进行计算，可以得到私钥。

●第四步：生成公钥。有了私钥之后，通过椭圆曲线加密算法（ ECDSA ），我们可以计算出对应的公钥。

●第五步：生成地址。最后一步是生成钱包地址。首先使用 Keccak-256 哈希函数计算公钥的哈希值，然后取哈希值的最后20个字节，就是一个以太坊钱包地址。


## 钱包类型和功能

### 常见的钱包类型

在 Web3 生态中，随着区块链技术的普及和应用的增多，出现了各种类型的钱包，以适应不同用户的需求和提高交易的便捷性。这些钱包类型大致可以分为以下几类：

●软件钱包：软件钱包是一种在电脑或移动设备上安装的应用程序，它们可以是桌面钱包、移动钱包或网页钱包。

●桌面钱包：桌面钱包安装在个人电脑上，提供安全性较高的存储选项，但对设备有一定依赖性。如 Electrum、Exodus。

●移动钱包：移动钱包安装在智能手机上，方便用户随时随地进行交易。如 Trust Wallet、MetaMask 移动版。

●网页钱包：网页钱包通过浏览器访问，方便快捷，但安全性较低，更适合小额交易。如 MyEtherWallet、MetaMask 网页版。

●硬件钱包：硬件钱包是一种物理设备，外形类似 U 盘，可以离线存储私钥，具有非常高的安全性。它们不容易受到网络攻击，但价格相对较高，适合长期存储大量资产。如 Ledger Nano S、Trezor。

●纸钱包：简单来说，纸钱包就是将公钥和私钥打印在纸上，完全离线，避免了在线攻击的可能，但纸质材料容易损坏，且不便于频繁交易。

●托管钱包：托管钱包由第三方服务商管理，用户只需注册账户即可使用，它们操作简便，对初学者友好，用户不必担心私钥的安全和管理问题，但需要信任并依赖服务商的安全性和稳定性。如 Binance 交易所提供的钱包。

●多签钱包：多签钱包顾名思义，需要多个签名才能执行交易，提供了额外的安全性。这种钱包适合团队和合作伙伴之间的资产管理，如 Gnosis Safe。

### 如何选择钱包

每种钱包都有其独特的使用场景和优势。用户在选择钱包时，需要根据自己的需求和对安全性、便捷性的偏好来决定。例如：

●对于重视安全的用户，硬件钱包或纸质钱包可能是最佳选择；

●对于经常交易的用户，移动钱包或网页钱包可能更合适，因为它们提供更快的访问和操作；

●对初学者来说，如果不想管理私钥又担心私钥泄露，托管钱包可能是一个比较好的选择。


## 钱包安全和密钥管理


### 钱包安全最佳实践

在 Web3 的世界里，钱包不仅仅是管理加密资产的工具，还是你在去中心化网络上的身份凭证。钱包的安全直接关系到你的资产安全，如果别人得到了你的私钥，就像是别人拿到了你的银行卡密码，他们就可以完全控制你的钱包和里面的资产。因此，钱包的安全非常重要。

下面介绍一些保护钱包和管理私钥的最佳实践：

●保密你的私钥和助记词：私钥和助记词必须保密，永远不要分享给任何人。如果需要备份，请使用纸和笔记下来，并进行多份备份，妥善保管在安全的地方。

●使用硬件钱包：硬件钱包相比软件钱包来说，提供了更高级别的安全性。它可以离线存储你的私钥，减少私钥泄露或被黑客攻击的风险。

●启用多重认证：启用多重认证（如两步验证）可以增加一层安全保障，比如托管钱包的邮箱认证和身份验证器认证。即使黑客知道了你的密码，没有第二层认证，他们也无法转走你钱包里的资产。

●定期更新软件：确保你的钱包软件和相关应用都是最新版本，这样能够及时修复已知的安全漏洞。

●防范钓鱼攻击：时刻警惕钓鱼攻击，请在使用钱包签名前确认消息是否正确，并且不要点击来历不明的邮件或链接，不要在不安全的网站上输入私钥信息。

●分散风险：请不要将所有资产存放在一个钱包中，可以考虑分散存放到不同的钱包，以降低被盗风险。

●保持警惕：随时关注 Web3 相关的安全新闻和更新，了解新的安全威胁和防护措施。


## 比特币及其应用

### 比特币简介

比特币是一种去中心化加密货币，由一个化名为中本聪（ Satoshi Nakamoto ）的人或组织在2009年创建，但中本聪的真实身份至今未知。与传统的法定货币（如美元、欧元、人民币等）不同，比特币没有中央银行来控制或发行。它只有电子形式，没有物理实体，只允许用户通过互联网来进行交易，且每一笔交易都是公开透明的，所有交易信息都记录在区块链这个分布式账本上。

### 区块链技术在比特币中的应用

比特币是第一个应用区块链技术的加密货币，主要体现在如下几个方面：

●分布式账本：在比特币中，区块链记录了自比特币网络创建以来发生的所有交易，每一笔交易都会被打包进一个“区块”中，这些区块通过复杂的加密技术链接起来，形成一个连续不断的链条。

●去中心化：由于区块链是去中心化的，所有的比特币交易信息并不是存储在一个单一的中心服务器上，而是分布在整个网络的所有节点上，每一个节点都有一份完整的账本拷贝。这种设计使得比特币网络很难以被攻击或篡改，因为要改变区块链上的交易信息，黑客需要同时控制网络上大于50%的节点。

●安全性：在比特币区块链的每个区块中，不仅包含了交易数据，还包含了该区块的哈希值和前一个区块的哈希值。哈希值相当于区块的数字指纹，一旦区块中的交易数据被篡改，那么哈希值也会随之改变，使得篡改行为被立即发现。这一设计保证了比特币网络的安全性和不可篡改性。

●挖矿与共识机制：在比特币中，矿工基于工作量证明机制（ PoW ）来维护区块链。矿工使用强大的计算机来解决复杂的数学难题（寻找满足难度目标的 nonce 值），这个过程称为“挖矿”。当矿工成功解决一个难题后，他们就可以将交易打包成一个新的区块，并广播到网络中由其他矿工来验证，一旦验证正确，该新区块将会被添加到区块链中。作为回报，创建新区块的矿工会获得一定数量的比特币，这是比特币发行的唯一方式。

## 以太坊和智能合约

### 以太坊简介

2013年，一个年轻的程序员、同时也是比特币的狂热爱好者 Vitalik Buterin 注意到，比特币的区块链技术具有极大的潜力，但是其功能只用于处理货币交易。他想要创建一个更加灵活的平台，除了货币交易，开发者还能够构建各种应用。于是，以太坊于2015年应运而生。

以太坊同样是一个开源的、去中心化的区块链平台，它不仅支持原生的加密货币：以太币（ ETH ），还提供了一个运行去中心化应用程序（ DApps ）的生态系统。这些应用程序通过智能合约来实现，运行在以太坊虚拟机（ EVM ）上。如果说比特币是一个全球分布式账本，那么以太坊就是一个全球分布式计算机。

### 智能合约

智能合约是以太坊平台的灵魂所在，它们是存储在区块链上的、可以自动执行的代码，代码中包含了所有的运行规则。当预设的条件被满足时，合约便会自动执行相关的功能。

你可以把以太坊想象成一台自动售货机，你走到这台售货机前，选择了一瓶可乐，然后将需要的以太币（ ETH ）投入到售货机中。售货机内部运行的程序（智能合约）会自动验证你的支付，然后立即向你投递一瓶可乐。购买可乐的整个过程由智能合约来控制，无需第三方中介，降低了交易成本。智能合约代码是完全开源的，这样确保了交易的透明性。

### 以太坊和比特币的区别

在区块链世界中，比特币和以太坊是最著名的两个平台，尽管都使用了区块链技术，但它们在设计、目标和应用上有着本质的区别。两者的主要区别如下：

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081717642.png)


## 去中心化金融 (DeFi)


### DeFi 简介

去中心化金融（Decentralized Finance，简称 [[DeFi]]），是一种运行在区块链技术之上的金融生态系统。它通过智能合约（自执行的程序代码），实现了金融服务的自动化，同时也消除了传统金融体系中存在的中介机构如银行、经纪人等。在 DeFi 的世界里，所有的交易和服务都是透明的、无需许可的，并且对所有连接到互联网中的人都开放。

### DeFi 的价值

与传统的中心化金融（ Cefi ）相比，去中心化金融在可访问性、透明度、安全性、效率、创新性和去中心化等方面具有显著价值。

●首先，DeFi 通过提供无国界的金融服务，确保全球的用户只需要连接互联网，就能够不受地理限制地进行交易。这对于那些传统银行服务不足或不可获得的地区尤其重要。

●其次，DeFi 利用区块链技术公开记录所有交易，使得任何人都可以验证和审计这些记录。这种开放性极大地增加了系统的透明度和可信度，用户可以直观地看到资金流动，减少了隐藏费用和潜在的不正当行为。

●在安全性上，DeFi 通过先进的加密技术来保护用户的资金和交易，大幅降低了欺诈行为和黑客攻击的风险。自动化的智能合约还确保了交易的无缝执行，无需传统金融机构复杂的手续和人工审核，从而提高了操作的效率。

●在创新方面，DeFi 所提供的开放式开发平台吸引了全球的开发者参与，促使新的金融产品和服务不断涌现。这种基于社区的发展模式促进了创意的交流和快速迭代，加速了金融领域的技术进步。

●最后，与传统金融机构可能存在宕机的风险不同，DeFi 的分布式结构从本质上消除了单一控制点，增强了整个系统对于故障和攻击的抵抗力。即便部分节点受损，整个网络仍可持续运行，保障了金融服务的连续性和稳定性。


### DeFi 经典项目

Defi 的典型项目有 Uniswap，它是一个建立在以太坊区块链上的去中心化交易所（ DEX ）。Uniswap 基于一套全新的自动做市商( AMM )模型，而不是传统的订单簿系统，允许用户无需中介即可交易不同的加密货币。

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081721350.png)


交易流程如下：

●第一步：用户（流动性提供者）将他们的代币对存入资金池，比如往交易池存入一定数量的 ETH-USDT 代币对，为交易提供所需的流动性。

●第二步：其他用户需要兑换代币时，比如用 ETH 兑换 USDT，他们只需要将ETH转入交易所，智能合约会自动按照当前的汇率进行交易，再转出指定数量的 USDT。

在 Uniswap 中进行交易，用户不需要信任任何第三方，因为所有交易都是通过代码自动完成的，这降低了欺诈和中介风险。


## 非同质化代币 (NFT)

### NFT 简介

在介绍非同质化代币（ [[NFT]] ）之前，我们需要先了解“同质化”和“非同质化”的概念。

在加密货币的世界里，同质化代表着可互换性。比如你拥有1个 BTC，而我也拥有1个 BTC，尽管这两个 BTC 可能在不同的钱包地址中，但它们具有相同的价值，可以直接交换，这就像你用一张100元的钞票换另一张同样面额的100元钞票一样。

而非同质化代表着独一无二，不可替代。非同质化代币（ NFT ），正是这样一种唯一且不可互换的数字资产。NFT 通常用于证明资产的所有权，比如数字艺术品、收藏品等。

### NFT 的价值

与同质化代币相比，非同质化代币（ NFT ）在所有权验证、独特性、收藏价值、市场流通性以及参与性等方面具有独特的价值。具体如下：

●首先，NFT 作为一种区块链技术的产物，能够为数字资产提供不可篡改的所有权证明。这意味着艺术家和内容创造者可以确保他们的原创作品被合法地认证和追踪，从而保护了他们的知识产权。

●其次，由于每个 NFT 都是不可替代的，它们固有的稀缺性成为了价值的重要来源。尤其是对于那些独特的艺术品来说，这种稀缺性赋予了 NFT 较高的收藏价值。

●再者，尽管 NFT 是非同质化的，但它们在全球范围内的多个平台上仍然可以被买卖和交换，这为 NFT 提供了流通性。随着市场的不断发展，这种流通性正在不断增强。

●最后，部分 NFT 项目允许持有者对项目的发展进行投票，或者提供社区特定的福利。这增强了用户体验，使得 NFT 变得不仅仅是一个收藏品，而是一个拥有社群和生态的活跃项目。


### NFT 经典项目

以 CryptoPunks 为例，这是一个在以太坊上非常著名的NFT项目。CryptoPunks 是由 Larva Labs studio 创造的一系列10,000个像素艺术角色，每个角色都是独一无二的，且已经成为了加密艺术和文化的象征。它们不仅仅是图片，更是身份和地位的象征。CryptoPunks 项目的成功在于它结合了艺术、稀缺性和社区的力量，创造了巨大的经济价值和文化影响力。

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081726108.png)


## 去中心化自治组织 (DAO)

### DAO 简介

去中心化自治组织（ Decentralized Autonomous Organization，简称 [[DAO]] ）是一种基于区块链技术的组织形式，它通过智能合约来自动执行组织的规则和决策。与传统的公司不同，DAO 没有管理层和中心权威，所有的决策都通过成员投票或预设算法来实现。组织成员通常持有代币，这些代币赋予了他们投票权，这样成员就可以直接参与到组织的治理中，比如提出提案、投票决定项目方向、资金分配等。

### DAO 的价值

与传统的公司相比，DAO 在透明度、信任要求、运营效率、参与民主性以及安全性等方面具有显著的优势。

●首先，DAO 的所有决策过程和财务交易都是公开记录在区块链上的，任何外部审计者都可以轻松进行验证，从而提高了组织的透明度。

●其次，在 DAO 中，成员之间的互动是通过代码执行的，成员只需信任这些智能合约的代码本身，不需要像在传统公司那样信任个别领导或者某个中心化的团队。

●再者，由于智能合约可以自动执行任务，这降低了手工处理的需求，消除了许多不必要的中介环节，提升了组织运作的效率。

●此外，DAO 允许每一个持有代币的成员参与到组织的决策中去，这种机制推动了更加民主化的决策过程，使得组织真正地由社区成员驱动。

●最后，区块链技术的使用加强了 DAO 的安全性，因为它依赖于加密技术和共识算法来保护数据和资产，从而在很大程度上避免了外部攻击和内部滥用的风险。


### DAO 经典项目

以 MakerDAO 为例，它是一个运行在以太坊上的去中心化借贷平台。用户可以抵押加密资产（如 ETH ），来生成一个稳定币 DAI。DAI 的价值锚定美元，旨在减少加密货币的价格波动风险。

MakerDAO 的治理结构是典型的 DAO 模式。持有 MKR 代币的用户有权参与到 Maker 系统的治理中，包括调整稳定币 DAI 的发行政策、抵押物种类、风险参数等。这些决策都是通过公开、透明的投票过程完成的。

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081731640.png)


## Web3 钱包

### Web3 钱包是什么

Web3 钱包是一种数字货币钱包，专为与Web3 技术（去中心化网络）集成而设计。与传统的数字货币钱包不同，Web3 钱包允许用户与去中心化应用程序（DApps）进行交互，签署交易并管理其加密资产，而无需信任中心化的第三方。这种钱包通常支持多种加密货币，并提供安全的私钥管理功能，以确保用户的资金安全。

### 实际应用

在 Web3 世界里，有几款备受欢迎的钱包应用，它们在安全性、易用性和功能性上都有着不同的特点，成为用户的首选。以下是一些热门的 Web3 钱包：

1.MetaMask： MetaMask 是最知名的以太坊钱包之一，它是一个浏览器插件和移动应用程序，允许用户在网页浏览器中轻松访问以太坊 DApps，并管理其加密资产。

2.Trust Wallet： Trust Wallet 是一款安全的移动钱包应用，支持多种加密货币，包括以太坊和比特币。它提供了简单易用的界面，支持与 DeFi 应用程序的集成。

3.Coinbase Wallet： Coinbase Wallet 是由加密货币交易平台 Coinbase 推出的钱包应用，支持以太坊和ERC-20代币，同时还提供了内置的 DApp 浏览器。

4.Binance Chain Wallet： Binance Chain Wallet是由加密货币交易平台 Binance 推出的一款钱包应用，旨在与 Binance 智能链（BSC）兼容，支持多种加密货币和 DApp。

5.Trezor： Trezor 是一款硬件钱包，以其高安全性和便携性而闻名。它支持多种加密货币，包括比特币、以太坊等，是安全存储加密资产的理想选择之一。

这些钱包应用在 Web3 生态系统中扮演着重要角色，为用户提供了安全、便捷的加密资产管理解决方案。

### Web3 钱包形式 (类别)

### 冷钱包 (Cold Wallet)

冷钱包是指不连接到互联网的加密货币钱包，主要用于离线存储加密资产。

●硬件钱包

●纸钱包

### 热钱包 (Hot Wallet)

热钱包是指连接到互联网的加密货币钱包，方便用户进行快速交易和日常使用。

●浏览器钱包

●移动端钱包

●桌面钱包

●网页钱包

注:热钱包不能变成冷钱包，但冷钱包一旦其私钥存储在线就可以变成热钱包。

当我们进入 web3 世界，随着时间的推移，我们的钱包数量也会不断增加，因为不同的用途决定着你使用哪个钱包，同时用途也决定着你会如何对待这个钱包。


### 浏览器钱包

浏览器钱包是一种在网页浏览器中运行的加密货币钱包。它们通常作为浏览器插件或扩展程序提供，允许用户在浏览网页的同时管理其加密资产。这种钱包使用户能够直接在网页上执行加密货币交易，与去中心化应用程序（DApps）进行交互，并访问区块链网络

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081740589.png)

#### 特点


1.易于使用：用户可以直接通过浏览器访问和操作钱包，无需下载额外的软件，操作简便快捷。

2.即时接入：浏览器钱包使得用户能够快速接入加密货币网络，进行交易或参与去中心化应用（DApps）。

3.集成性：浏览器钱包通常可以轻松地与多个网站和服务集成，如加密货币交易所、NFT 市场以及各种基于区块链的应用。

4.低门槛：对新用户而言，浏览器钱包的接口通常更友好，上手更快，降低了进入加密货币世界的门槛。

5.多币种支持：许多浏览器钱包支持多种加密货币，方便用户管理和交易多种资产。

6.安全风险：与硬件钱包相比，浏览器钱包的安全性较低，因为它们更容易受到网络攻击，如钓鱼攻击、恶意软件入侵等。

7.备份与恢复：和硬件钱包类似，浏览器钱包也使用助记词进行备份和恢复，但用户需要对助记词的安全存储负责。

总的来说，浏览器钱包是一种方便、安全的加密货币管理工具，适合那些经常使用网页浏览器进行加密货币交易和互动的用户。


### 移动端钱包

移动端钱包是一种安装在移动设备（如智能手机或平板电脑）上的加密货币钱包应用程序。这种钱包应用允许用户在他们的移动设备上安全地存储、接收和发送加密货币，以及与去中心化应用程序（DApps）进行交互。

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081741420.png)


#### 特点

1.便携性： 移动端钱包可以随时随地携带，用户无需依赖于桌面电脑或笔记本电脑即可访问其加密资产。

2.易用性： 大多数移动端钱包应用都具有简洁直观的用户界面，使用户能够轻松地管理其加密货币资产。它们通常提供简单的功能，如收款、转账和查看交易历史记录。

3.安全性： 移动端钱包通常采用高级加密技术来保护用户的私钥和敏感信息。此外，许多钱包应用还提供额外的安全功能，如指纹识别、密码保护和双重验证，以增强用户的资产安全。

4.DApp集成： 一些移动端钱包应用提供内置的 DApp 浏览器，使用户能够直接在钱包应用内与去中心化应用程序进行交互，无需额外的操作。

5.支持多种加密货币： 大多数移动端钱包支持多种加密货币，用户可以在同一应用程序中管理多种不同类型的加密资产，提高了便利性和灵活性。

总的来说，移动端钱包是一种方便、安全的加密货币管理工具，适合那些经常使用移动设备进行加密货币交易和互动的用户。


### 桌面钱包

桌面钱包在加密货币问世的早期较为常见，是一种安装在个人电脑（如台式机或笔记本电脑）上的加密货币钱包应用程序。与移动端钱包相比，桌面钱包通常具有更多的功能和更高的安全性，适合那些更喜欢在桌面环境下管理加密资产的用户。

如 Electrum、Sparrow 等，作为应用程序提供，用户可以在计算机设备安装下载
![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081742703.png)

#### 特点

1.高安全性： 桌面钱包通常在用户的个人电脑上运行，私钥和加密资产数据存储在本地，因此具有较高的安全性。用户可以自行负责保护钱包应用程序和设备的安全，从而降低了第三方入侵的风险。

2.丰富的功能： 桌面钱包通常提供丰富的功能，包括收款、转账、交易历史记录查看、地址簿管理、多账户管理等。一些桌面钱包还支持与硬件钱包的集成，提供更高级的安全性和功能。

3.备份和恢复功能： 桌面钱包通常提供备份和恢复功能，用户可以轻松地备份和恢复他们的钱包数据，以防止意外丢失或损坏设备时丢失资产。

4.支持多种加密货币： 大多数桌面钱包支持多种加密货币，用户可以在同一应用程序中管理多种不同类型的加密资产，提高了便利性和灵活性。

5.定制化选项： 一些桌面钱包提供了丰富的定制化选项，用户可以根据自己的偏好调整钱包的外观和功能，以及安全设置和隐私选项。

总的来说，桌面钱包是一种功能强大、安全可靠的加密货币管理工具，适合那些更喜欢在桌面环境下管理加密资产的用户。

### 硬件钱包

硬件钱包是一种专门用来存储加密货币的物理设备，如比特币、以太坊等。它与软件钱包（即在电脑或手机上运行的钱包软件）相比，提供了更高的安全性。硬件钱包通常的形式是小型的USB设备，它能够将用户的私钥完全隔离于互联网，有效防止了黑客攻击和恶意软件的威胁。

如Ledger、Trezo

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081743659.png)

#### 特点

1.高安全性：硬件钱包存储私钥的方式使其不与互联网直接连接，大大减少了被黑客攻击的风险。私钥在物理设备内生成和存储，不会暴露给外部系统。

2.隔离性：进行交易时，私钥不离开硬件设备，仅在设备内部使用，从而保证了交易安全。

3.便携性：硬件钱包通常体积小巧，如USB设备大小，便于携带。

4.多币种支持：大多数硬件钱包都能支持多种加密货币，方便用户管理不同的资产。

5.备份与恢复：通过助记词（一组可以恢复钱包的词汇）的方式，即使硬件钱包丢失或损坏，用户仍可以恢复其资产。

6.用户友好性：尽管提供了强大的安全性，但现代硬件钱包的界面设计趋向于简单易用，适合各类用户。

7.物理安全特征：一些高级模型还提供如PIN码保护、生物识别等物理安全措施，进一步提升安全性。

这些特点使得硬件钱包成为存储和管理重要加密资产的理想选择，尤其是对于那些希望远离网络威胁、注重资产安全的用户。

### 网页钱包

网页钱包，是一种基于网页的加密货币钱包，用户可以通过网页浏览器访问和管理。但因为其背后的巨大安全风险用户需要谨慎选择使用

#### 潜在风险

1.网络攻击风险：网页钱包的安全性取决于钱包提供者的服务器和网站的安全性。如果这些服务器受到黑客攻击，用户的私钥和个人信息可能会受到威胁，导致资产损失。

2.钓鱼网站风险：恶意者可能会创建钓鱼网站，冒充正规的网页钱包服务提供者，诱使用户输入私钥或其他敏感信息。如果用户被诱骗并输入了私钥，他们的资产可能会被盗取。

3.密码管理风险：网页钱包通常要求用户设置密码或输入私钥来访问。如果用户选择了弱密码或者在不安全的环境下输入了私钥，那么他们的账户可能会受到攻击。

4.中心化风险：许多网页钱包是由中心化的服务提供者管理和运营的，这意味着用户需要信任这些服务提供者来保护他们的资产和个人信息。如果这些服务提供者出现问题，用户的资产可能会受到影响。

### 纸钱包 (不建议使用)

纸钱包是一种用纸质或者其他不可复制的材料制成的加密货币钱包，用于存储加密货币的私钥和公钥

#### 潜在风险

1.易于丢失：由于是物理形式存在，纸钱包容易丢失，一旦遗失，资金将无法找回。

2.容易损坏：纸钱包易受潮、火灾或其他破坏性因素影响，可能导致私钥损坏而无法访问资金。

3.安全性依赖于保管：纸钱包的安全性取决于用户如何妥善保管，如果被盗窃或不慎泄露，资金可能遭受损失。




## 连接和断开钱包

### 连接断开钱包过程及原理

1.连接钱包：

●选择钱包和 DApp：用户首先选择一个钱包（如 MetaMask、Trust Wallet 等）和一个希望连接的 DApp。

●授权请求：DApp 向用户的钱包发起连接请求。这个请求通常会弹出一个窗口，提示用户授权 DApp 访问其钱包地址和基本信息。

●用户确认：用户在钱包界面中查看请求的详细信息，并选择批准或拒绝。如果批准，DApp将获得对用户钱包的访问权限。

●建立会话：一旦授权成功，钱包和 DApp 之间建立会话，DApp 可以与钱包进行交互，例如读取钱包地址、发送交易请求等。

2.断开钱包：

●用户操作断开：用户可以在 DApp 或钱包界面中选择断开连接。这个操作通常有一个显著的断开按钮。

●自动断开机制：如果用户长时间不进行钱包和 DApp 的交互，钱包会自动断开连接。这个自动断开机制可以由 DApp 或钱包设置，通常为了增加安全性，避免未经授权的访问。

●撤销权限：断开连接后，钱包会撤销 DApp 的访问权限，确保 DApp 无法再与钱包交互。

●结束会话：钱包与 DApp 之间的会话结束，DApp 不再能访问用户的钱包信息。用户可以选择清理浏览器缓存和数据，进一步提高安全性。

3.原理：

●修改内容：用户在热钱包应用中创建交易或操作请求

●签名：热钱包使用存储在设备中的私钥直接在在线环境中对交易进行数字签名。

●广播上链：签名后的交易直接通过热钱包应用广播到区块链网络上。

> 注：1.本文中提到的 DApp 默认指运行在以太坊系列区块链上的智能合约项目。 2.上文提到信息都是热钱包，冷钱包细节上会多了离线签名等步骤，最终还是本质上还是想办法把签名后的内容广播上链


### 连接操作

建立钱包连接之后我们会有两种操作

#### 交易

你在区块链上进行需要消耗Gas的操作

●发送ETH

●交换代币

●购买NFT

●设置授权

#### 消息

仅使用私钥签署消息，不需要消耗Gas

●向智能合约发送指令

●操作已授权的资产

●仅用于证明身份

> Gas 是用于在以太坊区块链上执行交易和智能合约的费用。它的主要目的是限制并补偿以太坊网络中的计算工作量


### 安全问题

> MetaMask在其安全提示中提到：“不要在不安全的网络环境中连接钱包，例如公共Wi-Fi。始终保持浏览器和钱包应用的更新，以防止安全漏洞被利用。使用硬件钱包是增加安全性的有效方法。”（来源：MetaMask Support） Ledger的官方文档强调：“连接钱包时，始终使用官方渠道下载和更新钱包软件。对于硬件钱包用户，确保每次交易都在硬件设备上进行物理确认，防止私钥泄露。”（来源：Ledger Security）

  
以下是我们需要注意的地方：

●权限滥用：连接钱包时，如果不仔细检查 DApp 请求的权限，可能会授予 DApp 过多的权限，导致资产风险。

●钓鱼攻击：假冒的 DApp 或网站可能会请求连接用户的钱包，从而窃取钱包中的资产。

●恶意软件：连接过程中，如果设备感染恶意软件，可能会记录用户的操作和私钥信息，导致资产被盗。

同时，还有一些可能发生的场景譬如：钱包的更新迭代是如何不被植入恶意代码或后门？就像我们现实当中的更新某个软件版本之后产生了不良效果：发现了根本跟我现在的硬件不兼容，或者不理想甚至运行不了，安全这东西，无知者无畏、知者敬畏，许多点是细思极恐的。

因此我建议：不要轻易更新，够用就好，当有必要更新的时候需要多方佐证，如利用社区力量、校验工具


## 常见授权形式

### 授权形式介绍

主要分为以下三种：

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081820062.png)


1.IncreaseAllowance

●用途：增加特定代币的授权额度。

●风险：可能会增加您的代币被转移的风险。

2.Approve

●用途：批准特定数量的代币授权。

●风险：只允许特定数量的代币被转移，相对安全。

3.SetApprovalForAll

●用途：批准所有 NFT 的授权。

●风险：授予对所有 NFT 的完全控制权，风险最大。


第三种授权是我们最好理解的，就是完全授权，相当于你把你的控制权完全交出去了，别人可以代理掌管你一切资产

至于 IncreaseAllowance 与 Approve 它们有什么不一样呢？

1.覆盖 vs 增加：

●Approve：设置新的授权额度，覆盖之前的授权。

●IncreaseAllowance：在现有授权额度上增加指定数量。

2.安全性：

●Approve：如果要减少授权额度，直接调用 Approve 设置一个较小的数值，但这种操作有潜在的安全问题。如果在减少授权额度的过程中，有另一笔交易在原额度下被批准，可能会导致安全问题。

●IncreaseAllowance：更安全的选择，通过增加授权额度避免了潜在的竞争条件问题。

3.实际应用

●Approve：用于初次授权或者重新设置授权额度。

●IncreaseAllowance：用于在现有授权基础上增加额度，更加灵活和安全。

### 授权安全提示

●仔细检查交易细节：在批准任何交易前，确保您完全理解其内容。

●限制授权范围：尽量使用有限授权（如 Approve），避免使用完全授权（SetApprovalForAll）。

●保持警惕：对于任何看似过于美好的交易保持警惕，不要轻易批准任何交易。



## 许可签名诈骗

### 什么是许可签名

在区块链和加密货币领域，一些代币的签名不需要特定协议的批准，这给潜在的协议或诈骗者提供了可乘之机。这类签名可以被滥用，导致用户的代币被盗或其他恶意行为。

一些代币，如ERC-20代币，引入了permit功能。该功能允许持有者通过签名直接授予某个地址（通常是智能合约）代币的转账权限，而不需要执行传统的approve交易。这种机制简化了用户体验，但也增加了被滥用的风险。

也有一些代币不需要链上批准即可使用离线签名，用户可以签署一笔交易，然后将签名发送给第三方，第三方可以代用户提交交易。这种机制方便了用户操作，但也容易被恶意方利用。

如：

●USDC

●DAI

●stETH


### 如何避免

1.使用安全工具：

●使用如Pocket Universe、Revoke、SafeSoul和Wallet Guard等浏览器扩展工具。这些工具可以帮助用户识别潜在的恶意签名请求，并提供安全警告。

2.仔细检查签名请求：

●在签署任何消息或交易前，务必仔细检查签名请求的内容，确保你完全理解并信任请求方和请求内容。

3.定期检查和撤销授权：

●定期查看并撤销不再需要或可疑的授权，防止长时间未使用的授权成为攻击者的目标。


## 恶意市场签名

### 什么是恶意市场签名

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081828264.png)

恶意市场签名其实就是一些非常难以阅读的消息内容，大多数几乎不可能去识别理解，诈骗者们就是故意这样做让无法识别然后趁机骗取你的签名/授权，最终偷走你的数字资产

●特点：内容难以阅读

●目标：偷走你的数字资产

### 防范措施

面对这些恶意的市场签名我可以使用安全减速带以及 TAP（三地址协议）来保护我们，关于这两者的内容我们将在Unit5中详细介绍，简单概括有下面几点：

●不要轻易签署任何复杂的签名请求：如果您无法完全理解签名的内容，不要签署。

●仔细检查签名请求：确保请求来自可信任的网站和服务。

●使用分离策略：将不同用途的钱包分离，如铸币、交易和存储，避免全部资产暴露在同一个钱包中。


## 虚假功能费用

### 什么是虚假功能费用

虚假功能费用指的是一种欺诈性交易请求，其目的是骗取你的数字资产。当你连接到一个骗子网站想要出售你空投获取的代币时，你可能会看到这种交易请求。这个交易请求里面隐含着要支付某种功能的费用（类似于铸造 NFT），其实是一个恶意合约，合约内容就是大量的消耗用户的GAS去铸造NFT，而这些铸造出来的NFT将会作为骗子的利润。

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411081832379.png)


> Chi Gas 代币是 1inch 项目的一项举措，其中 Chi Gas 代币是一种 BEP20 代币，是为了在 1inch 交易时使用，支付交易成本。Chi 与该网络的 GAS 价格挂钩。当 GAS 价格低时，Chi 价格也低，反之亦然。
> 骗子如何利用这一点是非常有趣的。首先，他们会随机空投一堆 BEP20 代币。当用户批准 PancakeSwap 出售这些代币时，在这些代币的批准方法中，会硬编码消耗大量（如90%以上）用户的 GAS 限额来铸造 Chi Gas 代币，可以用来补贴 GAS 费用，这些铸造的 Chi Gas 代币就是骗子的利润。


### 如何避免

●仔细比较总费用和 Gas 费用：如果总费用远高于 Gas 费用，且没有合理的解释，这可能是一个虚假费用的标志。

●使用钱包扩展显示详细信息：使用如 MetaMask 等钱包扩展来显示交易的详细费用和余额变化，以识别任何异常费用。

●保持警惕：在批准任何交易前，务必核实所有费用的合理性，特别是在涉及高额费用的情况下。

## 空投诈骗

### 什么是空投

空投（Airdrop） 是一种营销和推广手段，通常在加密货币领域使用。项目方会向特定的用户群体免费分发其代币，以增加知名度、吸引用户和增加代币的流动性。空投的方式通常包括：

1.自动空投：项目方根据某些条件（如持有特定代币的用户）自动将代币发送到用户钱包中。

2.参与空投：用户需要完成某些任务（如注册、关注社交媒体、分享内容等）以获得空投资格。

3.持有空投：基于用户持有某种特定代币的数量进行分发。

很多时候诈骗的主要方式都是通过赠品、物品、空投这种带有利益相关的方式来作为载体，骗子利用用户对于免费代币的兴趣来设计骗局，通常有以下几种形式：

1.钓鱼网站：骗子创建一个看似合法的空投网站，诱导用户输入钱包私钥或助记词，从而窃取用户的数字资产。

2.恶意合约：用户领取空投时，需要与一个恶意智能合约进行交互，这个合约可能会在用户授权的情况下窃取用户钱包中的资产。

3.社交工程：骗子通过社交媒体或邮件联系用户，声称有空投活动，并提供一个链接，诱导用户点击并提供敏感信息。

4.垃圾代币：骗子将无价值或恶意代币发送到用户钱包，这些代币可能会引导用户与恶意合约互动，从而导致资产损失。

### 识别防范空投诈骗

我们可以通过以下手段去识别防范：

1.核实空投的真实性

●务必核实空投的真实性，确保空投不是来自恶意地址或账户。

●使用可信的工具和平台来验证。

●相互佐证

2.保持警惕

●对于突然收到的高额空投机会，保持警惕。

●不要轻易接受任何来历不明的空投。

3.使用安全工具

●使用安全浏览器插件，如 MetaMask，仔细检查每一笔交易的详细信息。

●利用安全工具如 Pocket Universe 检查是否有风险

●利用网站工具如 Scam Sniffer，检查相关链接是否安全


## TAP (三地址协议)

### 地址分离的重要性

●减少风险暴露

●保护自己误操作

●一次错误不会让你破产

为了能够更好的保护你的数字资产，地址分离是非常重要的，正如之前所说，进入到 Web3 世界你不可能只有一个钱包也是因为这个原因，试想一下，你如果所有的交易都用同一个钱包操作，那么如果有一天你被窃取了，那么你的所有数字资产就会归零，想想都后怕

### 什么是TAP

TAP（三地址协议，Three Address Protocol） 是一种通过使用三个独立的钱包地址来保护数字资产的安全协议。建立以下三种钱包基本可以满足我们的日常使用需求：

1.铸币钱包（Mint Wallet）

●存放金额：非常少量

●用途：

●铸币合约

●投机活动

●特点：

●连接到不受信任网站的最小资金

2.交易钱包（Marketplace Wallet）

●存放金额：较Mint Wallet多，一般满足交易即可

●用途：

●OpenSea / Blur / Uniswap

●在受信任的市场合约上批准

●特点：

●进行市场交易

3.保险库钱包（Vault Wallet）

●存放金额：大量

●用途：

●存放高价值资产

●特点：

●不进行任何批准

●不与合约交互

●仅限转账

●使用明文签名


## 检测和撤销授权

### 检查和撤销授权的重要性

在区块链和加密货币的世界中，授权管理至关重要。定期检查和撤销不必要的授权可以显著提高安全性，保护用户的资产免受潜在的威胁。

长时间未使用的授权可能成为攻击者的目标。定期检查并撤销这些授权，可以减少攻击者利用过期或不再需要的权限进行恶意活动的机会。

即使是曾经信任的合约，如果其代码被发现存在安全漏洞，攻击者可以利用这些漏洞进行攻击。定期撤销授权可以降低这种风险。

当我们发现未使用的授权、不再需要的授权，就可以撤销掉，这样可以最大限度的控制我们的授权范围，有助于我们保持账户的整洁和健康状态

### 如何进行检查和撤销授权

>这里我们以 Revoke.cash 与 Etherscan 为例

![image.png](https://cdn.jsdelivr.net/gh/Silence-dream/bed@master/img/202411082113768.png)


### 使用 Revoke.cash 检查和撤销授权

1.访问 Revoke.cash：

●打开浏览器，访问 [Revoke.cash](https://revoke.cash/)。

2.连接您的钱包：

●点击页面右上角的“Connect Wallet”按钮。

●选择您使用的钱包（例如 MetaMask）并授权连接。

3.查看授权列表：

●连接钱包后，您将看到与您的钱包地址相关的所有已授权合约和地址。

●仔细查看每个授权条目，确保了解每个合约的用途。

4.撤销不需要的授权：

●找到您希望撤销的授权条目。

●点击“Revoke”按钮。

●在弹出的 MetaMask 窗口中确认交易，等待交易完成以撤销授权。

### 使用 Etherscan 检查和撤销授权

1.访问 Etherscan：

●打开浏览器，访问 [Etherscan](https://etherscan.io/)。

2.找到您的地址：

●在搜索栏中输入您的以太坊地址，按回车搜索。

3.查看授权合约：

●在地址页面中，找到并点击“Token Approvals”选项（可能需要点击更多选项按钮）。

●查看与您的地址相关的所有已授权合约和地址。

4.撤销授权：

●如果您希望撤销某个授权，可以记下相关的合约地址。

●使用 Revoke.cash 或 MetaMask 直接与合约交互，发送“Revoke”交易撤销授权。

